(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{54:function(e,t,n){e.exports=n(85)},59:function(e,t,n){},63:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(16),i=n.n(o),l=(n(59),n(11)),s=n(12),c=n(14),u=n(13),p=n(15),m=n(89),d=n(30),h=n(22),f=n(47),g=n(48),v=n.n(g),E=n(4),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,isAuthenticated:!!localStorage.getItem("token"),token:localStorage.getItem("token"),user:localStorage.getItem("creds")?JSON.parse(localStorage.getItem("creds")):null,errMess:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_REQUEST":return Object(E.a)({},e,{isLoading:!0,isAuthenticated:!1,errMess:null,user:t.payload});case"SIGNUP_SUCCESS":return Object(E.a)({},e,{isLoading:!1,isAuthenticated:!0,errMess:null,token:t.payload});case"SIGNUP_FAILURE":return Object(E.a)({},e,{isLoading:!1,isAuthenticated:!1,errMess:t.payload});case"LOGIN_REQUEST":return Object(E.a)({},e,{isLoading:!0,isAuthenticated:!1,errMess:null,user:t.payload});case"LOGIN_SUCCESS":return Object(E.a)({},e,{isLoading:!1,isAuthenticated:!0,errMess:null,token:t.payload});case"LOGIN_FAILURE":return Object(E.a)({},e,{isLoading:!1,isAuthenticated:!1,errMess:t.payload});case"LOGOUT_REQUEST":return Object(E.a)({},e,{isLoading:!0,isAuthenticated:!0});case"LOGOUT_SUCCESS":return Object(E.a)({},e,{isLoading:!1,isAuthenticated:!1,token:"",user:null});case"LOGOUT_FAILURE":return Object(E.a)({},e,{isLoading:!1,isAuthenticated:!1,errMess:t.payload});default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,favorites:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITES":return Object(E.a)({},e,{isLoading:!1,errMess:null,favorites:t.payload});case"FAVORITES_LOADING":return Object(E.a)({},e,{isLoading:!0,errMess:null,favorites:null});case"FAVORITES_FAILED":return Object(E.a)({},e,{isLoading:!1,errMess:t.payload,favorites:null});default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,coins:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COINS":return Object(E.a)({},e,{isLoading:!1,errMess:null,coins:t.payload});case"COINS_LOADING":return Object(E.a)({},e,{isLoading:!0,errMess:null,coins:null});case"COINS_FAILED":return Object(E.a)({},e,{isLoading:!1,errMess:t.payload,coins:null});default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,volatility:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_VOLATILITY":return Object(E.a)({},e,{isLoading:!1,errMess:null,volatility:t.payload});case"VOLATILITY_LOADING":return Object(E.a)({},e,{isLoading:!0,errMess:null,volatility:null});case"VOLATILITY_FAILED":return Object(E.a)({},e,{isLoading:!1,errMess:t.payload,volatility:null});default:return e}},k=(n(63),n(90)),S=n(87),w=n(88),j=n(91),N=n(5),x=n(3),A=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isLoginModalOpen:!1,isSignupModalOpen:!1,url:window.location.href.split("/").pop()},n.loginToggleModal=n.loginToggleModal.bind(Object(N.a)(Object(N.a)(n))),n.signupToggleModal=n.signupToggleModal.bind(Object(N.a)(Object(N.a)(n))),n.handleSignup=n.handleSignup.bind(Object(N.a)(Object(N.a)(n))),n.handleLogin=n.handleLogin.bind(Object(N.a)(Object(N.a)(n))),n.handleLogout=n.handleLogout.bind(Object(N.a)(Object(N.a)(n))),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"loginToggleModal",value:function(){this.setState({isLoginModalOpen:!this.state.isLoginModalOpen})}},{key:"signupToggleModal",value:function(){this.setState({isSignupModalOpen:!this.state.isSignupModalOpen})}},{key:"handleLogin",value:function(e){this.loginToggleModal(),this.props.loginUser({username:this.username.value,password:this.password.value}),e.preventDefault()}},{key:"handleSignup",value:function(e){this.signupToggleModal(),this.props.signupUser({username:this.username.value,password:this.password.value}),e.preventDefault()}},{key:"handleLogout",value:function(){this.props.logoutUser(),this.props.history.push("/home")}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.n,{dark:!0,expand:"md",className:"headerBar"},r.a.createElement(x.k,{pills:!0},r.a.createElement(x.l,null,r.a.createElement(x.m,{href:"/home",className:"home"===this.state.url?"active":"inactive"},r.a.createElement("span",{className:"fa fa-home fa-lg"},"Home"))),r.a.createElement(x.l,null,r.a.createElement(x.m,{href:"/coins",className:"coins"===this.state.url?"active":"inactive"},r.a.createElement("span",{className:"fa fa-bitcoin fa-lg"},"Coins"))),this.props.auth.isAuthenticated?r.a.createElement(x.l,null,r.a.createElement(x.m,{href:"/dashboard",className:"dashboard"===this.state.url?"active":"inactive"},r.a.createElement("span",{className:"fa fa-tachometer fa-lg"},"DashBoard"))):r.a.createElement(x.l,null)),r.a.createElement(x.k,{className:"ml-auto"},this.props.auth.isAuthenticated?r.a.createElement(x.l,null,r.a.createElement("h4",null,this.props.auth.user.username,", \u2003"),r.a.createElement(x.a,{outline:!0,onClick:this.handleLogout},r.a.createElement("span",{className:"fa fa-sign-out fa-lg"},"Logout"))):r.a.createElement(x.k,null,r.a.createElement(x.l,null,r.a.createElement(x.a,{outline:!0,onClick:this.signupToggleModal},r.a.createElement("span",{className:"fa fa-user-plus fa-lg signupButton"}),r.a.createElement("span",{className:"signupButton"}," Sign up "))),r.a.createElement(x.l,null,r.a.createElement(x.a,{outline:!0,onClick:this.loginToggleModal},r.a.createElement("span",{className:"fa fa-sign-in fa-lg loginButton"}),r.a.createElement("span",{className:"loginButton"}," Login ")))))),r.a.createElement(x.h,{isOpen:this.state.isLoginModalOpen,toggle:this.loginToggleModal},r.a.createElement(x.j,{className:"login",toggle:this.loginToggleModal},"Login"),r.a.createElement(x.i,{className:"login"},r.a.createElement(x.d,{onSubmit:this.handleLogin},r.a.createElement(x.e,null,r.a.createElement(x.g,{htmlFor:"username"},"Username"),r.a.createElement(x.f,{type:"text",id:"username",name:"username",innerRef:function(t){return e.username=t}})),r.a.createElement(x.e,null,r.a.createElement(x.g,{htmlFor:"password"},"Password"),r.a.createElement(x.f,{type:"password",id:"password",name:"password",innerRef:function(t){return e.password=t}})),r.a.createElement(x.a,{type:"submit",value:"submit",color:"primary"},"Login")))),r.a.createElement(x.h,{isOpen:this.state.isSignupModalOpen,toggle:this.signupToggleModal},r.a.createElement(x.j,{className:"signup",toggle:this.signupToggleModal},"Sign up"),r.a.createElement(x.i,{className:"signup"},r.a.createElement(x.d,{onSubmit:this.handleSignup},r.a.createElement(x.e,null,r.a.createElement(x.g,{htmlFor:"username"},"Username"),r.a.createElement(x.f,{type:"text",id:"username",name:"username",innerRef:function(t){return e.username=t}})),r.a.createElement(x.e,null,r.a.createElement(x.g,{htmlFor:"password"},"Password"),r.a.createElement(x.f,{type:"password",id:"password",name:"password",innerRef:function(t){return e.password=t}})),r.a.createElement(x.a,{type:"submit",value:"submit",color:"primary"},"Sign up")))))}}]),t}(a.Component),L=Object(j.a)(A),I=n(86);var T=function(e){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-4 offset-1 col-sm-2"},r.a.createElement("h5",null,"Links"),r.a.createElement("ul",{className:"list-unstyled"},r.a.createElement("li",null,r.a.createElement(I.a,{to:"/home",color:"white"},"Home")))),r.a.createElement("div",{className:"col-7 col-sm-5"},r.a.createElement("h5",null,"Our Address"),r.a.createElement("address",null,"489, Hello World Road",r.a.createElement("br",null),"California",r.a.createElement("br",null),"United State",r.a.createElement("br",null),r.a.createElement("i",{className:"fa fa-phone fa-lg"}),": +858 1234 5678",r.a.createElement("br",null),r.a.createElement("i",{className:"fa fa-fax fa-lg"}),": +858 8765 4321",r.a.createElement("br",null),r.a.createElement("i",{className:"fa fa-envelope fa-lg"}),": ",r.a.createElement("a",{href:"mailto:helloWorld@hello.com"},"helloWorld@hello.com"))),r.a.createElement("div",{className:"col-12 col-sm-4 align-self-center"},r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{className:"btn btn-social-icon btn-google",href:"http://google.com/+"},r.a.createElement("i",{className:"fa fa-google-plus"})),r.a.createElement("a",{className:"btn btn-social-icon btn-facebook",href:"http://www.facebook.com/profile.php?id="},r.a.createElement("i",{className:"fa fa-facebook"})),r.a.createElement("a",{className:"btn btn-social-icon btn-linkedin",href:"http://www.linkedin.com/in/"},r.a.createElement("i",{className:"fa fa-linkedin"})),r.a.createElement("a",{className:"btn btn-social-icon btn-twitter",href:"http://twitter.com/"},r.a.createElement("i",{className:"fa fa-twitter"})),r.a.createElement("a",{className:"btn btn-social-icon btn-google",href:"http://youtube.com/"},r.a.createElement("i",{className:"fa fa-youtube"})),r.a.createElement("a",{className:"btn btn-social-icon",href:"mailto:"},r.a.createElement("i",{className:"fa fa-envelope-o"}))))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("p",null,"\xa9 Copyright 2018 Cryptocurrency Dashboard"))))};var F=function(e){return r.a.createElement("div",{className:"container2"},r.a.createElement("div",{className:"row"}," ",r.a.createElement("h1",null,"Home")),r.a.createElement("div",{className:"row"}," ",r.a.createElement("h3",null,"If you do not want to sign up, please login with (guest/123)")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-10"},r.a.createElement(x.b,{style:{backgroundColor:"#aaaaaa"}},r.a.createElement(x.c,null,"Dashboard"),r.a.createElement("img",{src:"demo1.png",alt:"dashboard",height:"1000px"}))),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement(x.b,{style:{backgroundColor:"#aaaaaa"}},r.a.createElement(x.c,null,"Coins"),r.a.createElement("img",{src:"demo2.png",alt:"coins",height:"1000px"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-10"},r.a.createElement(x.b,{style:{backgroundColor:"#aaaaaa"}},r.a.createElement(x.c,null,"DataFlow"),r.a.createElement("img",{src:"flow.jpeg",alt:"dashboard",height:"800px"})))))},D=n(8),U=n(9),M="background-color: ".concat("#061a44"),K="background-color: ".concat("#010e2c",";");"background-color: ".concat("#42ff3a",";");function _(){var e=Object(D.a)(["\n  "," \n  ","\n\tpadding: 10px;\n"]);return _=function(){return e},e}function G(){var e=Object(D.a)(["\n",";\n"]);return G=function(){return e},e}function B(){var e=Object(D.a)(["\n      color: red;\n    "]);return B=function(){return e},e}function R(){var e=Object(D.a)(["\n  color: green;\n  ",";\n"]);return R=function(){return e},e}function P(){var e=Object(D.a)(["\n  justify-self: right;\n  display: none;\n  ",":hover & {\n    display: block;\n    color: red;\n  }\n"]);return P=function(){return e},e}function V(){var e=Object(D.a)(["\n  justify-self: right;\n"]);return V=function(){return e},e}function W(){var e=Object(D.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n"]);return W=function(){return e},e}function H(){var e=Object(D.a)(["\n      pointer-events: none;\n      opacity: 0.4;\n  "]);return H=function(){return e},e}function z(){var e=Object(D.a)(["\n      "," &:hover {\n        pointer-events: none;\n      }\n    "]);return z=function(){return e},e}function J(){var e=Object(D.a)(["\n      &:hover {\n        cursor: pointer;\n        ",";\n      }\n  "]);return J=function(){return e},e}function Q(){var e=Object(D.a)(["\n  ","\n  ","\n  padding: 20px; \n\t&:hover{\n\t\tcursor: pointer; \n\t\t","\n  }\n  ","\t\n\n  ","\n    \n  ","\n"]);return Q=function(){return e},e}function Y(){var e=Object(D.a)(["\n  display: grid;\n  grid-template-columns: auto auto auto auto auto;\n  grid-gap: 15px;\n  margin-top: 40px;\n"]);return Y=function(){return e},e}U.b.div(Y());var $=U.b.div(Q(),"box-shadow: 0px 0px 5px 1px #121d5b",M,"box-shadow: 0px 0px 4px 2px #5fff17",function(e){return e.favorite&&Object(U.a)(J(),"box-shadow: 0px 0px 2px 2px #e41111")},function(e){return e.dashboardFavorite&&Object(U.a)(z(),"box-shadow: 0px 0px 4px 2px #5fff17")},function(e){return e.chosen&&!e.favorite&&Object(U.a)(H())}),q=U.b.div(W()),X=U.b.div(V()),Z=(U.b.div(P(),$),U.b.div(R(),function(e){return e.red&&Object(U.a)(B())})),ee=U.b.div(G(),"font-size: 2em"),te=U.b.div(_(),"box-shadow: 0px 0px 5px 1px #121d5b",M);function ne(){var e=Object(D.a)(["\n  "," \n  color: #1163c9;\n  border: 1px solid;\n  "," \n  margin: 5px;\n  height: 25px;\n  place-self: center left;\n"]);return ne=function(){return e},e}function ae(){var e=Object(D.a)(["\n  margin-top: 40px;\n  display: grid;\n  grid-gap: 20px;\n"]);return ae=function(){return e},e}var re=U.b.div(ae()),oe=U.b.input(ne(),K,"font-size: 1.0em"),ie=n(20),le=n.n(ie),se=function(){return r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),r.a.createElement("p",null,"Loading . . ."))};var ce=function(e){return r.a.createElement("div",null,r.a.createElement(q,null,r.a.createElement("div",null,e.coin.CoinName),r.a.createElement(X,null,e.coin.Symbol)),r.a.createElement("img",{alt:e.coin.Symbol,style:{height:"50px"},src:"http://cryptocompare.com/".concat(e.coin.ImageUrl)}))},ue=n(53),pe=n.n(ue);function me(e){var t=e.favorites,n=e.coins,a=e.deleteFavorite;if(t&&!t.isLoading&&n&&0!==n.length&&null!=t.favorites){var o=t.favorites.coinKeys.map(function(e){return r.a.createElement("div",{className:"col-12 col-md-2",key:e,"margin-bottom":"20px"},r.a.createElement(x.b,null,r.a.createElement($,{onClick:function(){return a(e)}},r.a.createElement(ce,{coin:n[e]}))))});return r.a.createElement("div",{className:"row"},o)}return r.a.createElement(se,null)}function de(e){var t=e.loading,n=e.favorites,a=e.coins,o=e.filteredCoinKeys,i=e.postFavorite,l=e.isAuthenticated;if(t||l&&!n.favorites)return r.a.createElement(se,null);if(l){var s=o.map(function(e){return r.a.createElement("div",{className:"col-12 col-md-2",key:e,"margin-bottom":"20px"},r.a.createElement(x.b,null,r.a.createElement($,{key:e,chosen:function(e,t){return le.a.includes(t,e)}(e,n.favorites.coinKeys),onClick:function(){return i(e)}},r.a.createElement(ce,{coin:a[e]}))))});return r.a.createElement("div",{className:"row"},s)}var c=o.map(function(e){return r.a.createElement("div",{className:"col-12 col-md-2",key:e,"margin-bottom":"20px"},r.a.createElement(x.b,null,r.a.createElement($,null,r.a.createElement(ce,{coin:a[e]}))))});return r.a.createElement("div",{className:"row"},c)}var he=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleFilter=le.a.debounce(function(e){var t=Object.keys(n.props.coins),a=t.map(function(e){return n.props.coins[e].CoinName}),r=t.concat(a),o=pe.a.filter(e,r,{}).map(function(e){return e.string}),i=le.a.pickBy(n.props.coins,function(e,t){var n=e.CoinName;return le.a.includes(o,t)||le.a.includes(o,n)});n.setState({filteredCoinKeys:Object.keys(i)})},500),n.filterCoins=function(e){var t=le.a.get(e,"target.value");t?n.handleFilter(t):n.setState({filteredCoinKeys:n.props.coinKeys})},n.state={filteredCoinKeys:n.props.coinKeys},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container2"},this.props.isAuthenticated?r.a.createElement(me,{favorites:this.props.favorites,coins:this.props.coins,deleteFavorite:this.props.deleteFavorite}):r.a.createElement("div",null),r.a.createElement("div",{className:"row"},r.a.createElement(re,null,r.a.createElement("h2",null," Search all coins "),r.a.createElement(oe,{onKeyUp:this.filterCoins}))),r.a.createElement("div",{className:"row"},r.a.createElement("hr",null)),r.a.createElement("div",{className:"row"},r.a.createElement(de,{loading:this.props.loading,favorites:this.props.favorites,coins:this.props.coins,isAuthenticated:this.props.isAuthenticated,postFavorite:this.props.postFavorite,filteredCoinKeys:this.state.filteredCoinKeys})))}}]),t}(a.Component),fe=n(18),ge=n.n(fe),ve=n(24);var Ee=function(e){return r.a.createElement("div",null,r.a.createElement(q,null,r.a.createElement("div",null,e.coin.Symbol),r.a.createElement(X,null,r.a.createElement(Z,{red:e.change<0},+(100*+e.change+"").slice(0,4),"%"))),r.a.createElement(ee,null,"$",function(e){return+(e+"").slice(0,6)}(e.price)))};var be=function(e){var t=e.currentCoin;return t?r.a.createElement(te,null,r.a.createElement("h2",{style:{textAlign:"center"}},t.Name),r.a.createElement("img",{alt:t.Name,style:{height:"200px",display:"block",margin:"auto"},src:"http://cryptocompare.com/".concat(t.ImageUrl)})):r.a.createElement("div",null)},ye=n(23);function Oe(){var e=Object(D.a)(["\n  "," \n  color: #1163c9;\n  border: 1px solid;\n  "," \n  margin: 5px;\n  height: 25px;\n  float: right;\n"]);return Oe=function(){return e},e}var Ce=U.b.select(Oe(),K,"font-size: 1.0em"),ke=n(37),Se=n.n(ke),we=n(71);we.Highcharts.setOptions({lang:{thousandsSep:","},colors:["#61d936","#552ccb","#1163c9","#04A1EE","#08C6E0","#146B9E","#F376C1","#1B2839"],chart:{backgroundColor:"#061a44",borderColor:"#000000",borderWidth:0,className:"dark-container",plotBackgroundColor:"#061a44",plotBorderWidth:0},title:{style:{color:"#C0C0C0",font:'bold 16px "Trebuchet MS", Verdana, sans-serif'}},subtitle:{style:{color:"#666666",font:'bold 12px "Trebuchet MS", Verdana, sans-serif'}},xAxis:{gridLineColor:"#333333",gridLineWidth:0,labels:{style:{color:"#A0A0A0"}},lineColor:"#A0A0A0",tickColor:"#A0A0A0",title:{style:{color:"#CCC",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},yAxis:{gridLineWidth:0,gridLineColor:"#333333",labels:{style:{color:"#A0A0A0"}},lineColor:"#A0A0A0",minorTickInterval:null,tickColor:"#A0A0A0",tickWidth:1,title:{style:{color:"#CCC",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.75)",style:{color:"#F0F0F0"}},toolbar:{itemStyle:{color:"silver"}},plotOptions:{line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},spline:{marker:{lineColor:"#333"}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"white"}},legend:{itemStyle:{font:"9pt Trebuchet MS, Verdana, sans-serif",color:"#A0A0A0"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#444"}},credits:{style:{color:"#666"}},labels:{style:{color:"#CCC"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",hoverSymbolStroke:"#FFFFFF",theme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#606060"],[.6,"#333333"]]},stroke:"#000000"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",background2:"rgb(35, 35, 70)",dataLabelsColor:"#444",textColor:"#C0C0C0",maskColor:"rgba(255,255,255,0.3)"});var je=n(31),Ne=10,xe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetchHistorical=Object(ve.a)(ge.a.mark(function e(){var t,a;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.coins&&-1!==n.props.currentKey){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.historical();case 4:t=e.sent,console.log("res",t),a=[{name:n.props.currentKey,data:t.map(function(e,t){return[Se()().subtract(Object(ye.a)({},n.state.timeInterval,Ne-t)).valueOf(),e.USD]})}],n.setState({historical:a});case 8:case"end":return e.stop()}},e,this)})),n.historical=function(){console.log("fetch",n.props.currentKey);for(var e=[],t=Ne;t>0;t--)e.push(je.priceHistorical(n.props.currentKey,["USD"],Se()().subtract(Object(ye.a)({},n.state.timeInterval,t)).toDate()));return Promise.all(e)},n.state={timeInterval:"months",historical:null},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchHistorical()}},{key:"componentDidUpdate",value:function(e){console.log("key",e.currentKey),console.log("next key",this.props.currentKey),this.props.currentKey!==e.currentKey&&this.fetchHistorical()}},{key:"render",value:function(){var e=this;return r.a.createElement(te,null,r.a.createElement(Ce,{defaultValue:"months",onChange:function(t){e.setState({timeInterval:t.target.value,historical:null},e.fetchHistorical)}},r.a.createElement("option",{value:"days"},"Days"),r.a.createElement("option",{value:"weeks"},"Weeks"),r.a.createElement("option",{value:"months"},"Months")),this.state.historical?r.a.createElement(we,{config:function(){return{title:{text:""},chart:{height:"400px"},subtitle:{text:""},yAxis:{title:{text:"Price"}},xAxis:{type:"datetime"},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:2010}},series:this.state.historical,responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}}}.call(this)}):r.a.createElement(se,null))}}]),t}(a.Component);function Ae(e){var t=e.favorites,n=e.coins,a=e.prices,o=e.updateKey,i=e.volatility;if(t.coinKeys&&0!==n.length&&0!==a.length&&0!==i.length){console.log("prices",a);var l=t.coinKeys.map(function(e){return r.a.createElement("div",{className:"col-12 col-md-2",key:e,"margin-bottom":"20px",onClick:function(){return o(e)}},r.a.createElement(x.b,null,r.a.createElement($,null,r.a.createElement(Ee,{coin:n[e],change:i.hasOwnProperty(e)?i[e]:a[e].CHANGE24HOUR,price:a[e].PRICE}))))});return r.a.createElement("div",{className:"row",margin:"15px"},l)}return r.a.createElement(se,null)}var Le=n(31),Ie=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetchPrices=function(){var e=Object(ve.a)(ge.a.mark(function e(t){var a;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getPrices(t);case 2:a=e.sent,n.setState({prices:a});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.getPrices=function(){var e=Object(ve.a)(ge.a.mark(function e(t){var n,a,r;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={},a=0;case 2:if(!(a<t.length)){e.next=16;break}return e.prev=3,e.next=6,Le.priceFull(t[a],"USD");case 6:r=e.sent,n[t[a]]=r[t[a]].USD,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.warn("Fetch price error: ",e.t0);case 13:a++,e.next=2;break;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),n.state={prices:[],currentKey:!n.props.loading&&n.props.favorites&&n.props.favorites.coinKeys.length>0?n.props.favorites.coinKeys[0]:-1},n.updateKey=n.updateKey.bind(Object(N.a)(Object(N.a)(n))),n.fetchPrices=n.fetchPrices.bind(Object(N.a)(Object(N.a)(n))),n.getPrices=n.getPrices.bind(Object(N.a)(Object(N.a)(n))),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"updateKey",value:function(e){this.setState({currentKey:e})}},{key:"componentDidMount",value:function(){this.props.favorites&&this.fetchPrices(this.props.favorites.coinKeys)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container2"},r.a.createElement("div",{className:"row"}," ",r.a.createElement("h1",null,"Dashboard")),this.props.loading?r.a.createElement(se,null):r.a.createElement(Ae,{favorites:this.props.favorites,coins:this.props.coins,prices:this.state.prices,updateKey:this.updateKey,volatility:this.props.volatility.reduce(function(e,t){return e[t.id]=t.volatility,e},{})}),r.a.createElement("div",{className:"row"},r.a.createElement("hr",null)),-1===this.state.currentKey||this.props.loading?r.a.createElement(se,null):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement(be,{currentCoin:this.props.coins[this.state.currentKey]})),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(xe,{coins:this.props.coins,currentKey:this.state.currentKey}))))}}]),t}(a.Component),Te="http://localhost:3003/",Fe=function(e){return{type:"FAVORITES_FAILED",payload:e}},De=function(e){return{type:"ADD_FAVORITES",payload:e}},Ue=function(){return function(e){var t=localStorage.getItem("token");console.log("token",t),t||e(De([])),e({type:"FAVORITES_LOADING"});var n="Bearer "+localStorage.getItem("token");return fetch(Te+"favorites/",{headers:{Authorization:n}}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(t){return e(De(t))}).catch(function(t){return e(Fe(t.message))})}},Me=function(e){var t=new Date;return new Date(t.getTime()+1e3*e)},Ke=function(){return function(e){e({type:"LOGOUT_REQUEST"}),localStorage.removeItem("token"),localStorage.removeItem("creds"),localStorage.removeItem("cryptoDash"),localStorage.removeItem("expirationDate"),e({type:"LOGOUT_SUCCESS"}),e(Fe("Error 401: Unauthorized"))}},_e=n(38),Ge=function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCoins(),console.log("check",this.props.checkLogin()),this.props.auth.isAuthenticated=this.props.checkLogin(),this.props.fetchFavorites(),this.props.fetchVolatility()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"bodyContent"},r.a.createElement(L,{auth:this.props.auth,loginUser:this.props.loginUser,logoutUser:this.props.logoutUser,signupUser:this.props.signupUser}),r.a.createElement(_e.TransitionGroup,null,r.a.createElement(_e.CSSTransition,{key:this.props.location.key,classNames:"page",timeout:250},r.a.createElement(k.a,{location:this.props.location},r.a.createElement(S.a,{path:"/home",component:F}),r.a.createElement(S.a,{path:"/coins",component:function(){return r.a.createElement(he,{loading:e.props.coins.isLoading,coinKeys:e.props.coins.coins?Object.keys(e.props.coins.coins).slice(0,100):[],coins:e.props.coins.coins,isAuthenticated:e.props.auth.isAuthenticated,favorites:e.props.auth.isAuthenticated?e.props.favorites:[],postFavorite:e.props.postFavorite,deleteFavorite:e.props.deleteFavorite})}}),r.a.createElement(S.a,{path:"/dashboard",component:this.props.auth.isAuthenticated?function(){return r.a.createElement(Ie,{loading:e.props.favorites.isLoading||e.props.coins.isLoading||e.props.volatility.isLoading,coins:e.props.coins.coins,favorites:e.props.auth.isAuthenticated?e.props.favorites.favorites:[],volatility:e.props.volatility.volatility?e.props.volatility.volatility:[]})}:F}),r.a.createElement(w.a,{to:"/home"})))),r.a.createElement(T,null))}}]),t}(a.Component),Be=Object(j.a)(Object(d.b)(function(e){return{auth:e.auth,favorites:e.favorites,coins:e.coins,volatility:e.volatility}},function(e){return{signupUser:function(t){return e(function(e){return function(t){return t(function(e){return{type:"SIGNUP_REQUEST",payload:e}}(e)),fetch(Te+"users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(n){if(!n.success){var a=new Error("Error "+n.status);throw a.response=n,a}console.log("Sign Up Succeed!");var r={username:e.username,password:e.password};localStorage.setItem("token",n.token),localStorage.setItem("creds",JSON.stringify(r)),localStorage.setItem("expirationDate",Me(1200)),t(function(e){return{type:"SIGNUP_SUCCESS",paylaod:e.token}}(n)),t(Ue())}).catch(function(e){return t({type:"SIGNUP_FAILURE",payload:e.message})})}}(t))},loginUser:function(t){return e(function(e){return function(t){return t(function(e){return{type:"LOGIN_REQUEST",payload:e}}(e)),fetch(Te+"users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(n){if(!n.success){var a=new Error("Error "+n.status);throw a.response=n,a}localStorage.setItem("token",n.token),localStorage.setItem("creds",JSON.stringify(e)),localStorage.setItem("expirationDate",Me(1200)),t(function(e){return{type:"LOGIN_SUCCESS",payload:e.token}}(n)),t(Ue())}).catch(function(e){return t({type:"LOGIN_FAILURE",payload:e.message})})}}(t))},logoutUser:function(){return e(Ke())},checkLogin:function(){return e(function(e){var t=new Date(localStorage.getItem("expirationDate")).getTime();return(new Date).getTime()<t||(e(Ke()),!1)})},fetchFavorites:function(){return e(Ue())},postFavorite:function(t){return e(function(e){return function(t){var n="Bearer "+localStorage.getItem("token");return fetch(Te+"favorites/"+e,{method:"POST",body:JSON.stringify({coinKey:e}),headers:{"Content-Type":"application/json",Authorization:n},credentials:"same-origin"}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){console.log("Favorite Added",e),t(Ue()),t(De(e))}).catch(function(e){return t(Fe(e.message))})}}(t))},deleteFavorite:function(t){return e(function(e){return function(t){console.log("coinKey",e);var n="Bearer "+localStorage.getItem("token");return fetch(Te+"favorites/"+e,{method:"DELETE",headers:{Authorization:n},credentials:"same-origin"}).then(function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(e){console.log("Favorite Deleted",e),t(Ue()),t(De(e))}).catch(function(e){return t(Fe(e.message))})}}(t))},fetchCoins:function(){return e(function(e){var t=n(31);return e({type:"COINS_LOADING"}),t.coinList().then(function(e){if(e)return e.Data;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(t){return e(function(e){return{type:"ADD_COINS",payload:e}}(t))}).catch(function(t){return e({type:"COINS_FAILED",payload:t.message})})})},fetchVolatility:function(){return e(function(e){return e({type:"VOLATILITY_LOADING"}),fetch(Te+"stats/volatility").then(function(e){if(e.ok)return console.log("res",e),e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw e}).then(function(e){return e.json()}).then(function(t){console.log("volatility",t),e(function(e){return{type:"ADD_VOLATILITY",payload:e}}(t))}).catch(function(t){return e({type:"VOLATILITY_FAILED",payload:t.message})})})}}})(Ge)),Re=Object(h.d)(Object(h.c)({auth:b,favorites:y,coins:O,volatility:C}),Object(h.a)(f.a,v.a)),Pe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:Re},r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(Be,null))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(79),n(81),n(83);i.a.render(r.a.createElement(Pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[54,2,1]]]);
//# sourceMappingURL=main.fc69799f.chunk.js.map